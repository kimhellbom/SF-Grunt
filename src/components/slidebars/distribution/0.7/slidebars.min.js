// Slidebars 0.7 - http://plugins.adchsm.me/slidebars/ Written by Adam Smith - http://www.adchsm.me/ Released under MIT License - http://opensource.org/licenses/MIT
;(function(b){b.slidebars=function(){function s(){var a=b("html").css("height");m.css({"min-height":a});q&&3>q&&b(".sb-slidebar").css({"min-height":a,height:"auto",position:"absolute"})}function n(a){function c(){if("left"===a&&h){e=!0;var d=h.css("width");h.addClass("sb-visible");"translate"==f?k.css({"-webkit-transform":"translate("+d+")","-moz-transform":"translate("+d+")","-o-transform":"translate("+d+")",transform:"translate("+d+")"}):"left"==f?k.css({left:d}):"jquery"==f&&k.animate({left:d}, 400);setTimeout(function(){b("html").addClass("sb-active sb-active-left")},400)}else"right"===a&&l&&(g=!0,d=l.css("width"),l.addClass("sb-visible"),"translate"==f?k.css({"-webkit-transform":"translate(-"+d+")","-moz-transform":"translate(-"+d+")","-o-transform":"translate(-"+d+")",transform:"translate(-"+d+")"}):"left"==f?k.css({left:"-"+d}):"jquery"==f&&k.animate({left:"-"+d},400),setTimeout(function(){b("html").addClass("sb-active sb-active-right")},400));if("left"===a&&e||"right"===a&&g)m.off("touchend click"), setTimeout(function(){m.one("touchend click",function(a){a.preventDefault();p()})},400)}"left"===a&&h&&g||"right"===a&&l&&e?(p(),setTimeout(c,400)):c()}function p(a){if(e||g)g=e=!1,m.off("touchend click"),"translate"==f?k.css({"-webkit-transform":"translate(0px)","-moz-transform":"translate(0px)","-o-transform":"translate(0px)",transform:"translate(0px)"}):"left"==f?k.css({left:"0px"}):"jquery"==f&&k.animate({left:"0px"},400),setTimeout(function(){h&&h.removeClass("sb-visible");l&&l.removeClass("sb-visible"); b("html").removeClass("sb-active sb-active-left sb-active-right");a&&(window.location=a)},400)}function r(a){"left"==a&&h?e?p():e||n("left"):"right"===a&&l&&(g?p():g||n("right"))}var c=document.createElement("div").style,t=!1,u=!1;if(""===c.MozTransition||""===c.WebkitTransition||""===c.OTransition||""===c.transition)t=!0;if(""===c.MozTransform||""===c.WebkitTransform||""===c.OTransform||""===c.transform)u=!0;var c=navigator.userAgent,q=!1;c.match(/Android/)&&(q=parseFloat(c.slice(c.indexOf("Android")+ 8)));this.init=!0;b("#sb-site").length||b("body").children().wrapAll('<div id="sb-site" />');var m=b("#sb-site");m.parent().is("body")||m.appendTo("body");m.addClass("sb-slide");if(b(".sb-left").length){var h=b(".sb-left"),e=!1;h.parent().is("body")||h.appendTo("body")}if(b(".sb-right").length){var l=b(".sb-right"),g=!1;l.parent().is("body")||l.appendTo("body")}s();var f,k=b(".sb-slide");f=t&&u?q&&4.4>q?"left":"translate":"jquery";this.open=n;this.close=p;this.toggle=r;b(window).resize(function(){s(); e?n("left"):g&&n("right")});b(".sb-toggle-left").on("touchend click",function(a){a.preventDefault();r("left")});b(".sb-toggle-right").on("touchend click",function(a){a.preventDefault();r("right")});b(".sb-open-left").on("touchend click",function(a){a.preventDefault();e||n("left")});b(".sb-open-right").on("touchend click",function(a){a.preventDefault();g||n("right")});b(".sb-close").on("touchend click",function(a){a.preventDefault();(e||g)&&p()});b(".sb-slidebar a").on("touchend click",function(a){a.preventDefault(); p(b(this).attr("href"))})}})(jQuery);